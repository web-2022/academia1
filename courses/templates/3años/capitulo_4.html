{% extends 'courses/base_3a√±os.html' %}

{% block title %}Cap√≠tulo 1: N√∫meros y Contar{% endblock %}

{% block content %}

    <!-- Men√∫ para cap√≠tulos -->
    <div class="row p-3 d-flex justify-content-center">
        <ul class="list-group list-group-horizontal d-flex flex-wrap">
          <li class="list-group-item flex-fill">
            <h2 class="text-success">03 a√±os: </h2>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=1 %}">Cap√≠tulo 1: Aprender los n√∫meros</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=2 %}">Cap√≠tulo 2: Aprender a contar</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=3 %}">Cap√≠tulo 3: Comparar cantidades</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=4 %}">Cap√≠tulo 4: Identificar formas geom√©tricas</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=5 %}">Cap√≠tulo 5: Aprender posicionamiento espacial</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=6 %}">Cap√≠tulo 6: Identificar Patrones</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=7 %}">Cap√≠tulo 7: Identificar Secuencias</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=8 %}">Cap√≠tulo 8: Comparar objetos por tama√±o</a>
          </li>
          <li class="list-group-item flex-fill">
            <a href="{% url 'capitulo' capitulo_id=9 %}">Cap√≠tulo 9: Comparar objetos por longitud</a>
          </li>
        </ul>
      </div>
<!-- Main content -->
<div class="container">
    <h2 class="text-primary">¬°Aprendamos a Sumar!</h2>
    <div class="question" id="question">¬øCu√°nto es 2 + 3?</div>
    <div id="options" class="mt-4"></div>
    <div id="result"></div>
    <div id="reward">¬°Muy bien! üåü</div>
</div>

<script>
    function generateSumQuestion() {
        const questionElement = document.getElementById('question');
        const optionsContainer = document.getElementById('options');
        const resultContainer = document.getElementById('result');
        const reward = document.getElementById('reward');

        // Reset containers
        optionsContainer.innerHTML = '';
        resultContainer.textContent = '';
        reward.style.display = 'none';

        // Generate random numbers for the sum
        const num1 = Math.floor(Math.random() * 5) + 1; // Numbers between 1 and 5
        const num2 = Math.floor(Math.random() * 5) + 1;
        const correctAnswer = num1 + num2;

        // Update the question
        questionElement.textContent = `¬øCu√°nto es ${num1} + ${num2}?`;

        // Generate options (including the correct answer)
        const options = new Set();
        while (options.size < 4) {
            const randomOption = Math.floor(Math.random() * 10) + 1; // Random options
            options.add(randomOption);
        }
        options.add(correctAnswer);

        // Shuffle and display options
        const shuffledOptions = Array.from(options).sort(() => Math.random() - 0.5);
        shuffledOptions.forEach(option => {
            const button = document.createElement('button');
            button.className = 'option-btn';
            button.textContent = option;

            button.addEventListener('click', () => {
                if (option === correctAnswer) {
                    resultContainer.textContent = '¬°Correcto!';
                    reward.style.display = 'block';
                    setTimeout(() => generateSumQuestion(), 3000);
                } else {
                    resultContainer.textContent = 'Int√©ntalo de nuevo.';
                }
            });

            optionsContainer.appendChild(button);
        });
    }

    // Generate the first question on load
    generateSumQuestion();
</script>
{% endblock %}